{% extends "base.html" %}

{% block title %}{{ ens_id }}{% endblock %}

{% block content %}
{% load filter_tags %}
{% load gene_tags %}

<div class="row">

<h4>Gene Summary:</h4>
<table class="table table-striped table-condensed">
	<tr><td>Gene </td><td>{{ gene|doc_attr:"symbol" }}</td></tr>
	<tr><td>Biotype </td><td>{{ gene|doc_attr:"biotype" }}</td></tr>
	<tr><td>Synonyms </td><td>
{% with synonyms=gene|doc_attr:"synonyms"  %}
{% for synonym in synonyms %}
	{{ synonym }}; 
{% endfor %}
{% endwith %}
	</td></tr>
	
	<tr><td>Location  </td><td>
{% with loc=gene|doc_attr:"chromosome" %}
	chr{{ loc }}: {{ gene|doc_attr:"start" }}-{{ gene|doc_attr:"stop" }}
{% endwith %}
	</td></tr>
</table>

<hr style="height: 1px; background-color:darkgrey;">

<h4>Publications:</h4>
<a role="button" data-toggle="collapse" href="#publications" aria-expanded="false" aria-controls="mappingFilters">
  Publications for {{ gene|doc_attr:"symbol" }}
  <span class="glyphicon glyphicon-collapse-down"></span>
</a>
<div class="collapse" id="publications">
{% show_pub_section gene|doc_attr:"pmids" %}
</div>

<hr style="height: 1px; background-color:darkgrey;">

<h4>Interactions:</h4>
<a role="button" data-toggle="collapse" href="#interactions" aria-expanded="false" aria-controls="mappingFilters">
  Interactions for {{ gene|doc_attr:"symbol" }}
  <span class="glyphicon glyphicon-collapse-down"></span>
</a>
<div class="collapse" id="interactions">
{% show_interactions_section gene|doc_id %}
</div>

<hr style="height: 1px; background-color:darkgrey;">

<h4>Model Organism Phenotype Links:</h4>
<a role="button" data-toggle="collapse" href="#phenotype" aria-expanded="false" aria-controls="mappingFilters">
  <span class="glyphicon glyphicon-collapse-down"></span>
</a>
<div class="collapse" id="phenotype">
{% show_phenotype_section gene|doc_attr:"dbxrefs" %}
</div>

<hr style="height: 1px; background-color:darkgrey;">

<h4>External Links:</h4>
<table class="table table-striped table-condensed">
{% with dbxrefs=gene|doc_attr:"dbxrefs" %}
{% for db, accs in dbxrefs.items|sort %}
	{% with dblink=db|db_link %}
	<tr><td>{{ db|capfirst }}</td><td>
		{% if dblink != "" %}
			{% if accs|is_list %}
				{% for acc in accs %}
					<a data-toggle="tooltip" title="{{ dblink.about }}" href="{{ dblink.link }}{{ acc }}" target="_blank">{{ acc }}</a>&nbsp;
				{% endfor %}
			{% else %}
				<a data-toggle="tooltip" title="{{ dblink.about }}" href="{{ dblink.link }}{{ accs }}" target="_blank">{{ accs }}</a>
			{% endif %}
		{% else %}
			{{ accs }}
		{% endif %}
	</td></tr>
	{% endwith %}
{% endfor %}
{% endwith %}
</table>
</div>
{% endblock %}
